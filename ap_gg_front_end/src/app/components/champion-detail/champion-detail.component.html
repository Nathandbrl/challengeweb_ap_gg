<div class="champion-detail-container">
  <!-- Header de retour -->
  <div class="back-button">
    <button mat-button (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
      Retour aux Champions
    </button>
  </div>

  <!-- Contenu de chargement -->
  <div *ngIf="loading" class="loading">
    <mat-spinner></mat-spinner>
    <p>Chargement du champion...</p>
  </div>

  <!-- Contenu d'erreur -->
  <div *ngIf="error" class="error">
    <mat-card>
      <mat-card-header>
        <mat-card-title>Erreur</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        {{ error }}
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Contenu principal -->
  <div *ngIf="!loading && champion && buildDetail" class="detail-content">
    <mat-tab-group>
      <!-- Onglet Build AP -->
      <mat-tab label="Build AP üéØ">
        <!-- En-t√™te du champion -->
        <mat-card class="champion-header">
          <mat-card-header class="header-content">
            <div class="champion-info">
              <h1 class="champion-name">{{ champion.name }}</h1>
              <p class="champion-title">{{ champion.title }}</p>
              <span class="role-badge" [style.background-color]="getRoleBadgeColor()">
                {{ champion.role }}
              </span>
            </div>
            <div class="champion-stats">
              <div class="stat">
                <span class="stat-label">Taux de Pick</span>
                <span class="stat-value">{{ champion.pickRate | number:'1.1-1' }}%</span>
              </div>
              <div class="stat">
                <span class="stat-label">Taux de Victoire</span>
                <span class="stat-value">{{ champion.winRate | number:'1.1-1' }}%</span>
              </div>
            </div>
          </mat-card-header>
        </mat-card>

        <!-- Build Overview -->
        <mat-card class="build-card">
          <mat-card-header>
            <mat-card-title>{{ buildDetail.buildName }}</mat-card-title>
            <mat-card-subtitle>{{ buildDetail.description }}</mat-card-subtitle>
          </mat-card-header>
          <mat-divider></mat-divider>
          <mat-card-content>
            <div class="build-difficulty">
              <span class="difficulty-label">Difficult√©:</span>
              <mat-chip [style.background-color]="'#ff6b6b'">{{ buildDetail.difficulty }}</mat-chip>
            </div>
            <p class="build-tips">üí° {{ buildDetail.tips }}</p>
          </mat-card-content>
        </mat-card>

        <!-- Ordre de Max des Spells -->
        <mat-card class="spell-card">
          <mat-card-header>
            <mat-card-title>üìä Ordre de Mont√©e des Spells AP</mat-card-title>
          </mat-card-header>
          <mat-divider></mat-divider>
          <mat-card-content>
            <div class="spell-max-order">
              {{ getSpellMaxOrder() }}
            </div>
          </mat-card-content>
        </mat-card>

        <!-- Runes -->
        <mat-card class="runes-card">
          <mat-card-header>
            <mat-card-title>‚ö° Runes Recommand√©es</mat-card-title>
          </mat-card-header>
          <mat-divider></mat-divider>
          <mat-card-content>
            <div class="runes-section">
              <div class="rune-tree">
                <h3>Arbre Primaire</h3>
                <div class="runes-list">
                  <div *ngFor="let rune of buildDetail.runes.primary" class="rune-item">
                    <span class="rune-name">{{ rune.name }}</span>
                  </div>
                </div>
              </div>
              <div class="rune-tree">
                <h3>Arbre Secondaire</h3>
                <div class="runes-list">
                  <div *ngFor="let rune of buildDetail.runes.secondary" class="rune-item">
                    <span class="rune-name">{{ rune.name }}</span>
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>

        <!-- Objets -->
        <mat-card class="items-card">
          <mat-card-header>
            <mat-card-title>üíé Build AP Optimal</mat-card-title>
          </mat-card-header>
          <mat-divider></mat-divider>
          <mat-card-content>
            <div class="items-section">
              <div class="item-tier">
                <h3>Objets de D√©part</h3>
                <div class="items-list">
                  <div *ngFor="let item of buildDetail.itemBuild.starter" class="item-chip">
                    {{ item }}
                  </div>
                </div>
              </div>
              <div class="item-tier">
                <h3>Build Principal</h3>
                <div class="items-list">
                  <div *ngFor="let item of buildDetail.itemBuild.core" class="item-chip core-item">
                    {{ item }}
                  </div>
                </div>
              </div>
              <div class="item-tier">
                <h3>Objets Situationnels</h3>
                <div class="items-list">
                  <div *ngFor="let item of buildDetail.itemBuild.situational" class="item-chip situational-item">
                    {{ item }}
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>

        <!-- Spells d'Invocateur -->
        <mat-card class="spells-card">
          <mat-card-header>
            <mat-card-title>üî∑ Spells d'Invocateur Recommand√©s</mat-card-title>
          </mat-card-header>
          <mat-divider></mat-divider>
          <mat-card-content>
            <div class="spells-list">
              <div *ngFor="let spell of getRecommendedSummonerSpells()" class="spell-item">
                <span class="spell-name">{{ spell }}</span>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </mat-tab>

      <!-- Onglet Stats Riot -->
      <mat-tab label="Stats Officiel üìà" *ngIf="riotChampionData">
        <mat-card *ngIf="riotChampionData.stats" class="stats-card">
          <mat-card-header>
            <mat-card-title>Stats de Base du Champion</mat-card-title>
          </mat-card-header>
          <mat-divider></mat-divider>
          <mat-card-content>
            <div class="stats-grid">
              <div class="stat-item">
                <span class="stat-label">PV</span>
                <span class="stat-value">{{ riotChampionData.stats.hp }}</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">Armure</span>
                <span class="stat-value">{{ riotChampionData.stats.armor }}</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">R√©sistance Magique</span>
                <span class="stat-value">{{ riotChampionData.stats.spellblock }}</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">Vitesse d'Attaque</span>
                <span class="stat-value">{{ riotChampionData.stats.attackspeed }}</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">Port√©e</span>
                <span class="stat-value">{{ riotChampionData.stats.attackrange }}</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">R√©g√©n√©ration PV</span>
                <span class="stat-value">{{ riotChampionData.stats.hpregen }}</span>
              </div>
            </div>
          </mat-card-content>
        </mat-card>

        <!-- Spells Officiels -->
        <mat-card *ngIf="riotChampionData.spells" class="abilities-card">
          <mat-card-header>
            <mat-card-title>Capacit√©s du Champion</mat-card-title>
          </mat-card-header>
          <mat-divider></mat-divider>
          <mat-card-content>
            <div *ngFor="let spell of riotChampionData.spells; let i = index" class="ability-item">
              <h4>{{ ['Passif', 'Q', 'W', 'E', 'R'][i] }} - {{ spell.name }}</h4>
              <p class="ability-description">{{ spell.description }}</p>
              <p *ngIf="spell.cooldown" class="ability-cooldown">‚è±Ô∏è Cooldown: {{ spell.cooldown[0] }}s</p>
            </div>
          </mat-card-content>
        </mat-card>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
      </mat-card-header>
      <mat-divider></mat-divider>
      <mat-card-content>
        <div class="summoner-spells">
          <mat-chip *ngFor="let spell of buildDetail.summonerSpells" class="spell-chip">
            {{ spell }}
          </mat-chip>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Conseils de Gameplay -->
    <mat-card class="tips-card">
      <mat-card-header>
        <mat-card-title>üí° Conseils de Gameplay</mat-card-title>
      </mat-card-header>
      <mat-divider></mat-divider>
      <mat-card-content>
        <div class="tips-section">
          <div class="tip-category">
            <h3>En Lane</h3>
            <p class="tip-text">{{ buildDetail.laning }}</p>
          </div>
          <div class="tip-category">
            <h3>En Teamfight</h3>
            <p class="tip-text">{{ buildDetail.teamfight }}</p>
          </div>
          <div class="tips-list">
            <div *ngFor="let tip of buildDetail.tips" class="tip-item">
              <mat-icon>info</mat-icon>
              <span>{{ tip }}</span>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

  </div>
</div>
